define(["jquery","underscore"],function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}({0:function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o,s,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();o=[n(1),n(3),n(4),n(5),n(24),n(25),n("shim/bootstrap.popover")],s=function(t,e,n,o,s){"use strict";var a={aws_cloudtrail:{aws_sqs_based_s3:"SQS-Based S3",aws_cloudtrail:"CloudTrail",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},aws_config:{aws_sqs_based_s3:"SQS-Based S3",aws_config:"Config"},vpc_flow_logs:{aws_kinesis:"Kinesis",aws_cloudwatch_logs:"CloudWatch Logs"},s3_access_logs:{aws_sqs_based_s3:"SQS-Based S3",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},cloudfront_access_logs:{aws_sqs_based_s3:"SQS-Based S3",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},elb_access_logs:{aws_sqs_based_s3:"SQS-Based S3",aws_s3:"Generic S3",splunk_ta_aws_logs:"Incremental S3"},others:{aws_cloudwatch_logs:"CloudWatch Logs",aws_s3:"Generic S3",aws_kinesis:"Kinesis",splunk_ta_aws_sqs:"SQS",aws_sqs_based_s3:"SQS-Based S3"}},c=["aws_s3","aws_sqs_based_s3","splunk_ta_aws_logs","aws_cloudwatch_logs","splunk_ta_aws_sqs","aws_kinesis"],l="main-inputs-menu",u="secondary-inputs-menu",p=function(){function p(r,f,d){var h=this;if(i(this,p),this.$btn=t(f),this.navigator=d,this.hovered=!1,this.services={},n.getServices(r).forEach(function(t){h.services[t.name]=t.title}),!t("body").data("event-binded")){t("body").data("event-binded","binded"),t("body").on("click",function(e){t(e.target).attr("id")!==h.$btn.attr("id")&&0===t(e.target).parents(".create-inputs-menu").length&&t(".create-inputs-menu").hide()}),t("body").append(e.template(s,{title:"Data Type",id:l})).append(e.template(s,{title:"Input Type",id:u}));var v=Object.assign(this.services,o.mockService),g=Object.keys(v).filter(function(t){return c.indexOf(t)===-1}).sort(function(t,e){return t=v[t],e=v[e],t===o.mockService.others?1:e===o.mockService.others?-1:t>e?1:-1}).map(function(t){var e=t in a?"icon-chevron-left left-arrow":"",n=t in a?"":t,i=v[t];return'<li data-service="'+t+'" data-input="'+n+'"><span class="'+e+'"></span><a href="#">'+i+"</a></li>"}).join("");t("#"+l+" .menu-item").html(g).find("li").hover(function(e){h._hoverMenu(t(e.currentTarget),!0)},function(e){h._hoverMenu(t(e.currentTarget),!1)}),t(".create-inputs-menu").on("mouseenter","li",function(e){var n=t(e.currentTarget),i=n.data("input"),o=n.data("service");if(!i)return h._toggleSecondaryMenu(!0,o,n),void e.preventDefault()}).on("mouseleave","li",function(e){var n=t(e.currentTarget),i=n.data("service");h._toggleSecondaryMenu(!1,i)}).on("click","li",function(e){var n=t(e.currentTarget).data("input"),i=t(e.currentTarget).data("service");return n?(t(".create-inputs-menu").hide(),void h.navigator.navigate({service:n,input:i,action:"create"})):void e.preventDefault()}),t("#"+u).hover(function(){h.hovered=!0},function(){h.hovered=!1})}this.$btn.click(function(){var e=t("#"+l),n=h.$btn.outerHeight(),i=e.outerWidth()-h.$btn.outerWidth();e.css("top",h.$btn.offset().top+n+8).css("left",h.$btn.offset().left-i/2),e.toggle()})}return r(p,[{key:"_hoverMenu",value:function(t,e){var n=t.find(".left-arrow");n.length>0&&n.css("color",e?"#1e93c6":"#9b9b9b")}},{key:"_toggleSecondaryMenu",value:function(e,n,i){var o=this,s=t("#"+u);if(e){var r=a[n],c=Object.keys(r).map(function(t,e){var i="";return 0===e&&"others"!==n&&(i='&nbsp;<span class="menu-recomm">(Recommended)</span>'),'<li data-service="'+n+'" data-input="'+t+'"><span></span><a href="#">'+r[t]+i+"</a></li>"}).join("");s.find(".menu-item").html(c),s.data("service",n).css("left",i.offset().left-t("#"+l).outerWidth()).css("top",i.offset().top-i.outerHeight()+1).show()}else setTimeout(function(t){s.data("service")===t&&o.hovered===!1&&s.hide()},100,n)}},{key:"render",value:function(){return this}}]),p}();return p}.apply(e,o),!(void 0!==s&&(t.exports=s))},1:function(e,n){e.exports=t},3:function(t,n){t.exports=e},4:function(t,e,n){var i,o;i=[],o=function(){"use strict";return{getField:function(t,e,n){var i=this.getComponent(t,e).entity;return i.find(function(t){return t.field===n})},getComponent:function(t,e){var n=this.getServices(t),i=n.find(function(t){return t.name===e});return i},getServices:function(t){return t.pages.inputs.services}}}.apply(e,i),!(void 0!==o&&(t.exports=o))},5:function(t,e,n){var i,o;i=[n(3)],o=function(t){"use strict";return{mockService:{vpc_flow_logs:"VPC Flow Logs",s3_access_logs:"S3 Access Logs",cloudfront_access_logs:"Cloudfront Access Logs",elb_access_logs:"ELB Access Logs",others:"Custom Data Type"},map:[{service:"aws_kinesis",input:"vpc_flow_logs",format:"CloudWatchLogs",sourcetype:"aws:cloudwatchlogs:vpcflow"},{service:"aws_cloudwatch_logs",input:"vpc_flow_logs",sourcetype:"aws:cloudwatchlogs:vpcflow"},{service:"aws_s3",input:"aws_cloudtrail",sourcetype:"aws:cloudtrail"},{service:"aws_s3",input:"cloudfront_access_logs",sourcetype:"aws:cloudfront:accesslogs"},{service:"aws_s3",input:"elb_access_logs",sourcetype:"aws:elb:accesslogs"},{service:"aws_s3",input:"s3_access_logs",sourcetype:"aws:s3:accesslogs"},{service:"splunk_ta_aws_logs",input:"aws_cloudtrail",log_type:"cloudtrail"},{service:"splunk_ta_aws_logs",input:"cloudfront_access_logs",log_type:"cloudfront:accesslogs"},{service:"splunk_ta_aws_logs",input:"elb_access_logs",log_type:"elb:accesslogs"},{service:"splunk_ta_aws_logs",input:"s3_access_logs",log_type:"s3:accesslogs"},{service:"aws_sqs_based_s3",input:"aws_config",s3_file_decoder:"Config"},{service:"aws_sqs_based_s3",input:"aws_cloudtrail",s3_file_decoder:"CloudTrail"},{service:"aws_sqs_based_s3",input:"cloudfront_access_logs",s3_file_decoder:"CloudFrontAccessLogs"},{service:"aws_sqs_based_s3",input:"elb_access_logs",s3_file_decoder:"ELBAccessLogs"},{service:"aws_sqs_based_s3",input:"s3_access_logs",s3_file_decoder:"S3AccessLogs"},{service:"aws_sqs_based_s3",input:"others",s3_file_decoder:"CustomLogs"}],detectSource:function(e,n){var i=this.map.filter(function(t){return t.service===n}),o=i.find(function(n){n=t.omit(n,["service","input"]);var i=t.pick(e.attributes,Object.keys(n));return t.isEqual(n,i)});return o&&"input"in o?o.input:n}}}.apply(e,i),!(void 0!==o&&(t.exports=o))},8:function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var s=this[o][0];"number"==typeof s&&(i[s]=!0)}for(o=0;o<e.length;o++){var r=e[o];"number"==typeof r[0]&&i[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),t.push(r))}},t}},9:function(t,e,n){function i(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=d[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(l(i.parts[s],e))}else{for(var r=[],s=0;s<i.parts.length;s++)r.push(l(i.parts[s],e));d[i.id]={id:i.id,refs:1,parts:r}}}}function o(t){for(var e=[],n={},i=0;i<t.length;i++){var o=t[i],s=o[0],r=o[1],a=o[2],c=o[3],l={css:r,media:a,sourceMap:c};n[s]?n[s].parts.push(l):e.push(n[s]={id:s,parts:[l]})}return e}function s(t,e){var n=g(),i=b[b.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function r(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function a(t){var e=document.createElement("style");return e.type="text/css",s(t,e),e}function c(t){var e=document.createElement("link");return e.rel="stylesheet",s(t,e),e}function l(t,e){var n,i,o;if(e.singleton){var s=_++;n=m||(m=a(e)),i=u.bind(null,n,s,!1),o=u.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),i=f.bind(null,n),o=function(){r(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),i=p.bind(null,n),o=function(){r(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function u(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var s=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}function p(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function f(t,e){var n=e.css,i=e.sourceMap;i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,_=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return i(n,e),function(t){for(var s=[],r=0;r<n.length;r++){var a=n[r],c=d[a.id];c.refs--,s.push(c)}if(t){var l=o(t);i(l,e)}for(var r=0;r<s.length;r++){var c=s[r];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete d[c.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},24:function(t,e){t.exports='<div id="<%- id %>" class="create-inputs-menu">\n    <div class="arrow"></div>\n    <h3 class="menu-title"><%- title %></h3>\n    <div class="menu-body">\n        <ul class="menu-item">\n            \n        </ul>\n    </div>\n</div>'},25:function(t,e,n){var i=n(26);"string"==typeof i&&(i=[[t.id,i,""]]);n(9)(i,{});i.locals&&(t.exports=i.locals)},26:function(t,e,n){e=t.exports=n(8)(),e.push([t.id,'.create-inputs-menu{background-color:#fff;border:1px solid #bfbfbf;width:190px;z-index:1060;position:absolute;display:none}.menu-recomm{font-size:10px;font-weight:700;color:#65a637}#main-inputs-menu .arrow{top:-8px;left:50%;color:#bfbfbf;margin-left:-4px}#main-inputs-menu .arrow,#main-inputs-menu .arrow:before{width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid;position:absolute}#main-inputs-menu .arrow:before{content:"";display:block;color:#dcdcdc;top:1px;left:0;margin-left:-8px}.create-inputs-menu .menu-title{margin:0;background-color:#dcdcdc;font-weight:700;font-size:14px;height:26px;line-height:26px;padding-left:20px;margin-bottom:-1px}.create-inputs-menu .menu-item{list-style-type:none;margin:0}.create-inputs-menu .menu-item li{line-height:26px;padding-left:8px;border-top:1px dotted #bfbfbf;cursor:pointer}.create-inputs-menu .menu-item li a{color:#000;margin-left:6px;pointer-events:none}.create-inputs-menu .menu-item li a:hover{text-decoration:none}.create-inputs-menu .menu-item li:hover{background-color:#e8f5ff}.create-inputs-menu .menu-item li span{width:6px;display:inline-block;pointer-events:none}.create-inputs-menu .menu-item li .left-arrow{color:#9b9b9b}',""])},"shim/bootstrap.popover":function(t,e,n){var i,o;i=[n(1),n("shim/bootstrap.tooltip"),n(28)],o=function(t){return t}.apply(e,i),!(void 0!==o&&(t.exports=o))},"shim/bootstrap.tooltip":function(t,e,n){var i,o;i=[n(1),n(27)],o=function(t){return t}.apply(e,i),!(void 0!==o&&(t.exports=o))},27:function(t,e,n){var i=n(1),o={jQuery:i};!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,i){var o,s,r,a,c;for(this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.enabled=!0,r=this.options.trigger.split(" "),c=r.length;c--;)a=r[c],"click"==a?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=a&&(o="hover"==a?"mouseenter":"focus",s="hover"==a?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,i=t.fn[this.type].defaults,o={};return this._options&&t.each(this._options,function(t,e){i[t]!=e&&(o[t]=e)},this),n=t(e.currentTarget)[this.type](o).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",void(this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show))):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",void(this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide))):n.hide()},show:function(){var e,n,i,o,s,r,a=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(a),a.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),i=e[0].offsetWidth,o=e[0].offsetHeight,s){case"bottom":r={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":r={top:n.top-o,left:n.left+n.width/2-i/2};break;case"left":r={top:n.top+n.height/2-o/2,left:n.left-i};break;case"right":r={top:n.top+n.height/2-o/2,left:n.left+n.width}}this.applyPlacement(r,s),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,i,o,s,r=this.tip(),a=r[0].offsetWidth,c=r[0].offsetHeight;r.offset(t).addClass(e).addClass("in"),n=r[0].offsetWidth,i=r[0].offsetHeight,"top"==e&&i!=c&&(t.top=t.top+c-i,s=!0),"bottom"==e||"top"==e?(o=0,t.left<0&&(o=t.left*-2,t.left=0,r.offset(t),n=r[0].offsetWidth,i=r[0].offsetHeight),this.replaceArrow(o-a+n,n,"left")):this.replaceArrow(i-c,i,"top"),s&&r.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),i=t.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("tooltip"),s="object"==typeof n&&n;o||i.data("tooltip",o=new e(this,s)),"string"==typeof n&&o[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(o.jQuery)},28:function(t,e,n){var i=n(1),o={jQuery:i};!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("popover"),s="object"==typeof n&&n;o||i.data("popover",o=new e(this,s)),"string"==typeof n&&o[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(o.jQuery)}})});